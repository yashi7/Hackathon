<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Details</title>
    <script>
        function toggleFields() {
            const category = document.querySelector('input[name="category"]:checked').value;
            document.getElementById('restaurant-fields').style.display = category === 'restaurant' ? 'block' : 'none';
            document.getElementById('event-fields').style.display = category === 'event' ? 'block' : 'none';
        }
    </script>
</head>
<body>
    <h1>Upload Details</h1>
    <form action="/upload/" method="POST">
        {% csrf_token %}
        <label>
            <input type="radio" name="category" value="restaurant" onchange="toggleFields()" checked>
            Restaurant
        </label>
        <label>
            <input type="radio" name="category" value="event" onchange="toggleFields()">
            Event
        </label>
        
        <div>
            <label>Location: <input type="text" name="location" required></label>
            <label>Locality: <input type="text" name="locality" required></label>
            <label>City: <input type="text" name="city" required></label>
            <label>Cuisine: <input type="text" name="cuisine" required></label>
        </div>

        <!-- Restaurant-specific fields -->
        <div id="restaurant-fields">
            <h3>Restaurant Details</h3>
            <label>Rating: <input type="number" step="0.1" name="rating"></label>
            <label>Votes: <input type="number" name="votes"></label>
            <label>Cost: <input type="number" name="cost"></label>
        </div>

        <!-- Event-specific fields -->
        <div id="event-fields" style="display: none;">
            <h3>Event Details</h3>
            <label>Attendees: <input type="number" name="attendees"></label>
            <label>Duration (hours): <input type="number" step="0.1" name="duration"></label>
            <label>Food Wastage (kg): <input type="number" step="0.1" name="food_wastage"></label>
        </div>

        <button type="submit">Submit</button>
    </form>

    {% if prediction %}
        <h2>Predicted Extra Food Amount: {{ prediction }}</h2>
    {% endif %}
</body>
</html>
